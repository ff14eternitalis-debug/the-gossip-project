<div class="container mt-5">
  <h1>Mon fil d'actualite</h1>
  <p class="text-muted">Potins des utilisateurs que vous suivez.</p>

  <% if @gossips.any? %>
    <div class="row mt-4">
      <% @gossips.each do |gossip| %>
        <div class="col-md-4 mb-4">
          <div class="card h-100">
            <div class="card-body">
              <h5 class="card-title"><%= gossip.title %></h5>
              <p class="card-text text-muted small d-flex align-items-center gap-1">
                <%= user_avatar(gossip.user, size: 20) %>
                Par <%= link_to gossip.user.first_name, user_path(gossip.user), class: "text-decoration-none text-muted" %> — <%= gossip.created_at.strftime("%d/%m/%Y") %>
              </p>
              <p class="card-text"><%= truncate(gossip.content, length: 120) %></p>
              <p class="card-text small text-muted">
                <%= gossip.comments.size %> commentaire<%= "s" if gossip.comments.size != 1 %> — <%= gossip.likes.size %> like<%= "s" if gossip.likes.size != 1 %>
              </p>
            </div>
            <div class="card-footer">
              <%= link_to "Voir plus", gossip_path(gossip), class: "btn btn-primary btn-sm" %>
            </div>
          </div>
        </div>
      <% end %>
    </div>
    <%== pagy_bootstrap_nav(@pagy) if @pagy.pages > 1 %>
  <% else %>
    <p class="text-muted mt-4">Aucun potin dans votre fil. Suivez des utilisateurs pour voir leurs potins ici.</p>
  <% end %>
</div>
