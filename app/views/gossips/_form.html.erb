<% if @gossip.errors.any? %>
  <div class="alert alert-danger mb-3" role="alert">
    <h5><%= pluralize(@gossip.errors.count, "erreur") %> :</h5>
    <ul class="mb-0">
      <% @gossip.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
    </ul>
  </div>
<% end %>

<%= form_with model: @gossip, local: true, class: "mt-3" do |f| %>
  <div class="mb-3">
    <%= f.label :title, "Titre (3 à 14 caractères)", class: "form-label" %>
    <%= f.text_field :title, class: "form-control", placeholder: "Titre du potin", maxlength: 14 %>
  </div>
  <div class="mb-3">
    <%= f.label :content, "Contenu", class: "form-label" %>
    <%= f.text_area :content, class: "form-control", rows: 5, placeholder: "Votre potin..." %>
  </div>
  <% if defined?(@tags) && @tags.present? %>
    <div class="mb-3">
      <%= f.label :tag_ids, "Tags", class: "form-label" %>
      <div class="form-control" style="max-height: 120px; overflow-y: auto;">
        <%= f.collection_check_boxes :tag_ids, @tags, :id, :title do |b| %>
          <div class="form-check">
            <%= b.check_box class: "form-check-input" %>
            <%= b.label class: "form-check-label" %>
          </div>
        <% end %>
      </div>
    </div>
  <% end %>
  <div class="mb-3">
    <%= f.label :image, "Image (optionnel)", class: "form-label" %>
    <% if @gossip.image.attached? %>
      <div class="mb-2">
        <%= image_tag @gossip.image, class: "img-fluid rounded", style: "max-height: 200px" %>
      </div>
    <% end %>
    <%= f.file_field :image, accept: "image/*", class: "form-control" %>
  </div>
  <div class="mb-3">
    <%= f.submit class: "btn btn-primary" %>
  </div>
<% end %>
